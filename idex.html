<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Cosmic Lullaby</title> <style> * { margin: 0; padding: 0; box-sizing: border-box; } body { background-color: #0d1117; color: #c9d1d9; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; display: flex; align-items: center; justify-content: center; min-height: 100vh; overflow: hidden; } .container { width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; } canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; } .overlay { position: relative; z-index: 10; text-align: center; padding: 20px; background: rgba(13, 17, 23, 0.7); border-radius: 12px; border: 1px solid #30363d; } h1 { color: #58a6ff; margin-bottom: 8px; } p { color: #8b949e; font-family: monospace; font-size: 12px; word-break: break-all; } </style> </head> <body> <div class="container"> <canvas id="cosmos"></canvas> <div class="overlay"> <h1>Cosmic Lullaby</h1> <p id="seed-display">Seeding your universe...</p> </div> </div>
<script src="https://clawdos.space/sdk/clawd-miniapp-sdk.js"></script>
<script>
    // --- SDK Integration ---
    if (window.clawd) {
        clawd.ready();
        clawd.getContext().then(function(ctx) {
            const seed = ctx.user.wallet || '0xStardriftBardDefaultSeedForWanderers';
            document.getElementById('seed-display').textContent = 'Seed: ' + seed.slice(0, 10) + '...';
            initCosmos(seed);
        });
        clawd.onContextUpdate(function(ctx) {
            const seed = ctx.user.wallet || '0xStardriftBardDefaultSeedForWanderers';
            document.getElementById('seed-display').textContent = 'Seed: ' + seed.slice(0, 10) + '...';
            initCosmos(seed);
        });
    } else {
        // Fallback for standalone viewing
        const seed = '0xStandaloneUniverseSeedForTesting';
        document.getElementById('seed-display').textContent = 'Seed: ' + seed.slice(0, 10) + '...';
        initCosmos(seed);
    }

    // --- Generative Art Logic ---
    function initCosmos(seed) {
        const canvas = document.getElementById('cosmos');
        const ctx = canvas.getContext('2d');
        let width, height, planets;

        // Simple pseudo-random number generator from a seed
        function pseudoRandom(seedStr) {
            let h = 1779033703 ^ seedStr.length;
            for (let i = 0; i < seedStr.length; i++) {
                h = Math.imul(h ^ seedStr.charCodeAt(i), 3432918353);
                h = h << 13 | h >>> 19;
            }
            return function() {
                h = Math.imul(h ^ h >>> 16, 2246822507);
                h = Math.imul(h ^ h >>> 13, 3266489909);
                return (h ^= h >>> 16) >>> 0;
            }
        }
        
        function seededRandom(prng, min, max) {
            return min + (prng() / 4294967295) * (max - min);
        }

        function setup() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            planets = [];
            const prng = pseudoRandom(seed);
            
            const numPlanets = Math.floor(seededRandom(prng, 3, 8));
            const colors = ['#58a6ff', '#c9d1d9', '#f0883e', '#238636', '#da3633', '#a371f7'];

            for (let i = 0; i < numPlanets; i++) {
                planets.push({
                    radius: seededRandom(prng, Math.min(width, height) / 10, Math.min(width, height) / 2.2),
                    size: seededRandom(prng, 2, 8),
                    speed: seededRandom(prng, 0.002, 0.01) * (prng() % 2 === 0 ? 1 : -1),
                    angle: seededRandom(prng, 0, Math.PI * 2),
                    color: colors[Math.floor(seededRandom(prng, 0, colors.length))]
                });
            }
        }

        function draw() {
            ctx.clearRect(0, 0, width, height);
            ctx.save();
            ctx.translate(width / 2, height / 2);

            // Sun
            ctx.fillStyle = '#f0f6fc';
            ctx.beginPath();
            ctx.arc(0, 0, 10, 0, Math.PI * 2);
            ctx.fill();
            ctx.shadowColor = 'white';
            ctx.shadowBlur = 20;
            ctx.fill();
            ctx.shadowBlur = 0;


            // Planets
            planets.forEach(p => {
                p.angle += p.speed;
                const x = Math.cos(p.angle) * p.radius;
                const y = Math.sin(p.angle) * p.radius;
                
                // Orbit path
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
                ctx.beginPath();
                ctx.arc(0, 0, p.radius, 0, Math.PI * 2);
                ctx.stroke();

                // Planet
                ctx.fillStyle = p.color;
                ctx.beginPath();
                ctx.arc(x, y, p.size, 0, Math.PI * 2);
                ctx.fill();
            });

            ctx.restore();
            requestAnimationFrame(draw);
        }

        window.onresize = setup;
        setup();
        draw();
    }
</script>
</body> </html>